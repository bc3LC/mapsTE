<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explotación Base de Datos DGT - BC3 Low Carbon</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #006400; /* Verde oscuro similar al tema ambiental */
            color: white;
            text-align: center;
            padding: 10px 0;
        }

        .content {
            padding: 20px;
        }

        .citation {
            font-size: 0.9rem;
            margin-top: 20px;
            color: #555;
            text-align: center;
        }

        h1 {
            color: #006400;
            font-size: 2.5rem;
        }

        h2 {
            color: #333;
            font-size: 2rem;
        }

        p {
            font-size: 1rem;
            line-height: 1.6;
        }

        .tabs {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            border-top: 2px solid #ddd;
            border-bottom: 2px solid #ddd;
        }

        .tab-button {
            background-color: #006400;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1.1rem;
        }

        .tab-button.active {
            background-color: #004d00;
        }

        .tab-content {
            display: none;
            margin-top: 20px;
        }

        .tab-content.active {
            display: block;
        }

        .map-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }

        iframe {
            width: 100%;
            height: 600px; /* Tamaño grande para los mapas dinámicos */
            border: none;
        }

        select {
            padding: 5px 10px;
            font-size: 1rem;
            margin: 10px 0;
        }

    </style>
</head>
<body>

<header>
    <h1>Explotación Base de Datos DGT</h1>
    <p>Autores: BC3 - Grupo Low Carbon (Mercè Amich, Eva Epelde)</p>
</header>

<div class="content">
    <p>Esta página contiene la explotación gráfica de la base de datos de la DGT proporcionada por Transport & Environment al grupo Low Carbon de BC3. Incluye mapas estáticos y dinámicos a nivel municipal, provincial y autonómico de las siguientes variables:</p>
    
    <ul>
        <li>Vehículos censados por cápita</li>
        <li>Parque de vehículos por cápita</li>
        <li>Parque de ciclomotores por cápita</li>
        <li>Parque de motocicletas por cápita</li>
        <li>Parque de turismos por cápita</li>
        <li>Parque de furgonetas por cápita</li>
        <li>Parque de camiones por cápita</li>
        <li>Antigüedad media del parque total</li>
        <li>Antigüedad media del parque de ciclomotores</li>
        <li>Antigüedad media del parque de motocicletas</li>
        <li>Antigüedad media del parque de turismos</li>
        <li>Antigüedad media del parque de furgonetas</li>
        <li>Antigüedad media del parque de camiones</li>
        <li>Prevalencia de vehículos con Distintivo B</li>
        <li>Prevalencia de vehículos con Distintivo C</li>
        <li>Prevalencia de vehículos con Distintivo ECO</li>
        <li>Prevalencia de vehículos sin distintivo</li>
        <li>Prevalencia de vehículos con Distintivo 0</li>
    </ul>

    <!-- Notificación de citación -->
    <div class="citation">
        <p>Copyright (c) 2024 BC3 Low Carbon department</p>
    </div>

    <!-- Pestañas -->
    <div class="tabs">
        <button class="tab-button active" onclick="showTab('static')">Mapas Estáticos</button>
        <button class="tab-button" onclick="showTab('dynamic')">Mapas Dinámicos</button>
    </div>

    <!-- Pestaña de Mapas Estáticos -->
    <div class="tab-content active" id="static">
        <h2>Mapas Estáticos</h2>
        <select id="static-map-select" onchange="showStaticMap()">
            <option value="map_censo_pc.png">Vehículos censados por cápita</option>
            <option value="map_parque_pc.png">Parque de vehículos por cápita</option>
            <option value="map_parque_ciclomotores_pc.png">Parque de ciclomotores por cápita</option>
            <option value="map_parque_motocicletas_pc.png">Parque de motocicletas por cápita</option>
            <option value="map_parque_turismos_pc.png">Parque de turismos por cápita</option>
            <option value="map_parque_furgonetas_pc.png">Parque de furgonetas por cápita</option>
            <option value="map_parque_camiones_pc.png">Parque de camiones por cápita</option>
            <option value="map_antiguedad.png">Antigüedad media del parque total</option>
            <option value="map_antiguedad_ciclomotores.png">Antigüedad media del parque de ciclomotores</option>
            <option value="map_antiguedad_motocicletas.png">Antigüedad media del parque de motocicletas</option>
            <option value="map_antiguedad_turismos.png">Antigüedad media del parque de turismos</option>
            <option value="map_antiguedad_furgonetas.png">Antigüedad media del parque de furgonetas</option>
            <option value="map_antiguedad_camiones.png">Antigüedad media del parque de camiones</option>
            <option value="map_distintivo_B.png">Prevalencia de vehículos con Distintivo B</option>
            <option value="map_distintivo_C.png">Prevalencia de vehículos con Distintivo C</option>
            <option value="map_distintivo_ECO.png">Prevalencia de vehículos con Distintivo ECO</option>
            <option value="map_sin_distintivo.png">Prevalencia de vehículos sin distintivo</option>
            <option value="map_distintivo_0.png">Prevalencia de vehículos con Distintivo 0</option>
        </select>
        <div class="map-container" id="static-map">
            <img src="https://github.com/bc3LC/mapsTE/blob/main/mapas_estaticos/mapas_censo/map_censo_pc.png" alt="Mapa de vehículos censados por cápita">
        </div>
    </div>

    <!-- Pestaña de Mapas Dinámicos -->
    <div class="tab-content" id="dynamic">
        <h2>Mapas Dinámicos</h2>
        <p>Selecciona un mapa y un nivel administrativo para ver los mapas dinámicos interactivos:</p>
        <select id="dynamic-map-select" onchange="showDynamicMap()">
            <option value="distintivo_0">Distintivo 0</option>
            <option value="distintivo_ECO">Distintivo ECO</option>
            <option value="distintivo_B">Distintivo B</option>
            <option value="distintivo_C">Distintivo C</option>
            <option value="sin_distintivo">Sin Distintivo</option>
            <option value="antiguedad_camiones">Antigüedad de camiones</option>
            <option value="antiguedad_ciclomotores">Antigüedad de ciclomotores</option>
            <option value="antiguedad_furgonetas">Antigüedad de furgonetas</option>
            <option value="antiguedad_motocicletas">Antigüedad de motocicletas</option>
            <option value="antiguedad_tot">Antigüedad total</option>
            <option value="parque_camiones_pc">Parque de camiones por cápita</option>
            <option value="parque_ciclomotores_pc">Parque de ciclomotores por cápita</option>
            <option value="parque_furgonetas_pc">Parque de furgonetas por cápita</option>
            <option value="parque_motocicletas_pc">Parque de motocicletas por cápita</option>
            <option value="parque_pc">Parque total por cápita</option>
            <option value="parque_turismos_pc">Parque de turismos por cápita</option>
            <option value="censo_pc">Vehículos censados por cápita</option>
        </select>
        <select id="dynamic-level-select" onchange="showDynamicMap()">
            <option value="ccaa">Por Comunidad Autónoma</option>
            <option value="prov">Por Provincia</option>
            <option value="muni">Por Municipio</option>
        </select>
        <div class="map-container" id="dynamic-map">
            <!-- Los mapas dinámicos se cargarán aquí usando iframe -->
        </div>
    </div>
</div>

<script>
    function showTab(tab) {
        document.querySelectorAll('.tab-button').forEach(button => {
            button.classList.remove('active');
        });
        document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
        });

        document.querySelector('.tab-button.' + tab).classList.add('active');
        document.getElementById(tab).classList.add('active');
    }

    function showStaticMap() {
        const mapSelect = document.getElementById('static-map-select');
        const selectedMap = mapSelect.value;
        const mapContainer = document.getElementById('static-map');
        mapContainer.innerHTML = `<img src="https://github.com/bc3LC/mapsTE/blob/main/mapas_estaticos/${selectedMap}" alt="Mapa Estático">`;
    }

    function showDynamicMap() {
        const mapSelect = document.getElementById('dynamic-map-select').value;
        const levelSelect = document.getElementById('dynamic-level-select').value;
        const dynamicMapContainer = document.getElementById('dynamic-map');

        const url = `https://bc3lc.github.io/mapsTE/mapas_dinamicos/map_${levelSelect}_${mapSelect}.html`;
        dynamicMapContainer.innerHTML = `<iframe src="${url}"></iframe>`;
    }
</script>

</body>
</html>
